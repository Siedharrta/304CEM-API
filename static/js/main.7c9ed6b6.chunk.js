(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(20),i=a.n(n),r=(a(39),a(2)),o=a(9),l=a(3),j=(a(40),a(17)),u=a(0);var b=function(e){var t=e.watchList,a=e.setWatchList,c=e.height;return Object(u.jsx)("div",{className:"list",style:{maxHeight:"".concat(c,"px")},children:t.map((function(e){return Object(u.jsxs)("div",{className:"list-container",children:[Object(u.jsxs)(o.b,{to:"/movie/".concat(e.movie.id),className:"list-item",children:[Object(u.jsx)("img",{src:"http://image.tmdb.org/t/p/w200/".concat(e.movie.poster_path),alt:e.movie.title}),Object(u.jsxs)("div",{className:"item-detail",children:[Object(u.jsx)(j.a,{className:"vote",minValue:"0",maxValue:"10",value:e.movie.vote_average,text:0===e.movie.vote_average?"0":e.movie.vote_average,styles:Object(j.b)({strokeLinecap:"round",textSize:"35px",pathColor:"white",textColor:"white",trailColor:"#29323c"})}),Object(u.jsxs)("div",{className:"item-text",children:[Object(u.jsx)("span",{className:"title",children:e.movie.title}),Object(u.jsxs)("span",{className:"info",children:[Object(u.jsx)("i",{className:"fas fa-fire"}),Object(u.jsx)("span",{children:e.movie.popularity})]}),Object(u.jsxs)("span",{className:"info",children:[Object(u.jsx)("i",{className:"fas fa-calendar-day"}),Object(u.jsx)("span",{children:e.movie.release_date})]})]})]})]}),Object(u.jsx)("i",{onClick:function(){return c=e.movie,void a(t.filter((function(e){return e.movie.id!==c.id})));var c},className:"fas fa-trash-alt trash"}),Object(u.jsx)("div",{className:"line"})]},e.movie.id)}))})};var h=function(e){var t=e.watchList,a=e.setWatchList,s=Object(c.useState)(0),n=Object(r.a)(s,2),i=n[0],o=n[1];return Object(u.jsx)("div",{className:"nav",children:Object(u.jsxs)("div",{className:"main-nav",children:[Object(u.jsx)("div",{className:"nav-logo",children:Object(u.jsx)("span",{children:"Film Studio"})}),Object(u.jsx)("ul",{children:Object(u.jsxs)("li",{className:"watch-list",children:[Object(u.jsx)("i",{onClick:function(){o(0===i?400:0)},className:"fa fa-heart"}),0===t.length?"":Object(u.jsx)("span",{className:"watch-list-length",children:t.length}),Object(u.jsx)(b,{watchList:t,setWatchList:a,height:i})]})})]})})},d=a(4),p=a.n(d),m=a(10);var O=function(e){e.setYear,e.setCategory;var t=Object(c.useState)([]),a=Object(r.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),l=Object(r.a)(i,2),j=l[0],b=l[1],h=Object(c.useState)([]),d=Object(r.a)(h,2),O=(d[0],d[1],"443a4596b85914edb9a1a8e80c7456c3");function v(){return(v=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j.length>=2)){e.next=10;break}return e.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(O,"&query=").concat(j));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n(a.results),e.next=11;break;case 10:n([]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[j]),Object(u.jsx)("div",{className:"search",children:Object(u.jsxs)("div",{className:"search-bar",children:[Object(u.jsx)("input",{type:"text",id:"search",value:j,onChange:function(e){b(e.target.value)}}),Object(u.jsx)("i",{className:"fas fa-search"}),Object(u.jsx)("div",{className:"search-list",children:s.map((function(e){return Object(u.jsxs)("div",{className:"search-item",children:[Object(u.jsx)("img",{src:"http://image.tmdb.org/t/p/w200/".concat(e.poster_path),alt:e.title}),Object(u.jsxs)("div",{className:"search-detail",children:[Object(u.jsx)(o.b,{to:"/movie/".concat(e.id),children:Object(u.jsx)("p",{className:"title",children:e.title})}),Object(u.jsx)("p",{className:"overview",children:e.overview.substring(0,100)})]})]},e.id)}))})]})})},v=a(32),f=a.n(v),x=a(23);var g=function(e){var t=e.watchList,a=e.setWatchList,s=e.movie;return Object(c.useEffect)((function(){localStorage.setItem("watchList",JSON.stringify(t))}),[t]),Object(u.jsx)("div",{className:"watchListBtn",children:Object(u.jsx)("button",{onClick:function(){return function(e){var c=!1;t.length>0?t.map((function(t){return c=t.movie.id===e.id})):a([].concat(Object(x.a)(t),[{movie:e}])),c||a([].concat(Object(x.a)(t),[{movie:e}]))}(s)},children:Object(u.jsx)("i",{className:"fa fa-heart"})})})};var N=function(e){var t=e.watchList,a=e.setWatchList,s=Object(c.useState)([]),n=Object(r.a)(s,2),i=n[0],l=n[1],j=Object(c.useState)(1),b=Object(r.a)(j,2),h=b[0],d=b[1],v=Object(c.useState)(null),x=Object(r.a)(v,2),N=x[0],w=x[1],y=Object(c.useState)(20),k=Object(r.a)(y,2),L=k[0],S=k[1],_=Object(c.useState)(""),C=Object(r.a)(_,2),W=C[0],E=C[1],F=Object(c.useRef)(!1),I="443a4596b85914edb9a1a8e80c7456c3";function P(){return(P=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat(I,"&page=").concat(h,"&primary_release_year=").concat(N));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.results),S(a.total_pages);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(W,"?api_key=").concat(I,"&page=").concat(h));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.results),S(a.total_pages);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){P.apply(this,arguments)}()}),[h,N]),Object(c.useEffect)((function(){F.current?function(){J.apply(this,arguments)}():F.current=!0}),[W]),Object(u.jsxs)("div",{className:"catalogue",children:[Object(u.jsx)(O,{setYear:w,setCategory:E}),Object(u.jsx)("div",{className:"catalogue-list",children:i.map((function(e){return Object(u.jsxs)("div",{className:"catalogue-item",children:[Object(u.jsx)("img",{src:"http://image.tmdb.org/t/p/w200/".concat(e.poster_path),alt:e.title}),Object(u.jsx)("div",{className:"catalogue-item-detail",children:Object(u.jsx)(o.b,{to:"/movie/".concat(e.id),children:Object(u.jsx)("button",{children:"Watch now"})})}),Object(u.jsx)("div",{className:"heart",children:Object(u.jsx)(g,{watchList:t,setWatchList:a,movie:e})})]},e.id)}))}),Object(u.jsx)(f.a,{pageCount:L,initialPage:0,marginPagesDisplayed:1,pageRangeDisplayed:2,previousLabel:Object(u.jsx)("i",{className:"fas fa-angle-left"}),nextLabel:Object(u.jsx)("i",{className:"fas fa-angle-right"}),containerClassName:"paginate-container",pageClassName:"paginate-item",activeClassName:"paginate-active-item",previousClassName:"paginate-previous",nextClassName:"paginate-next",disabledClassName:"paginate-disabled",breakClassName:"paginate-break",onPageChange:function(e){d(e.selected+1)}})]})};var w=function(e){var t=e.watchList,a=e.setWatchList,s=Object(c.useState)([]),n=Object(r.a)(s,2),i=(n[0],n[1]),o="443a4596b85914edb9a1a8e80c7456c3";function l(){return(l=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(o));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,i(a.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),Object(u.jsx)("div",{children:Object(u.jsx)(N,{watchList:t,setWatchList:a})})};a(24),a(33);a(65);var y=function(){return Object(u.jsx)("div",{className:"loader",children:Object(u.jsxs)("div",{className:"lds-roller",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})},k=a(34);var L=function(e){var t=e.match,a=Object(c.useState)({genres:[]}),s=Object(r.a)(a,2),n=s[0],i=s[1],l=Object(c.useState)({}),j=Object(r.a)(l,2),b=(j[0],j[1]),h=Object(c.useState)([]),d=Object(r.a)(h,2),O=(d[0],d[1]),v=Object(c.useState)([]),f=Object(r.a)(v,2),x=(f[0],f[1]),g=Object(c.useState)([]),N=Object(r.a)(g,2),w=(N[0],N[1]),L=Object(c.useState)(""),S=Object(r.a)(L,2),_=(S[0],S[1]),C=Object(c.useState)(!1),W=Object(r.a)(C,2),E=W[0],F=W[1],I="443a4596b85914edb9a1a8e80c7456c3";function P(){return(P=Object(m.a)(p.a.mark((function e(){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"?api_key=").concat(I));case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,i(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(m.a)(p.a.mark((function e(){var a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/videos?api_key=").concat(I));case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,s=c.results.filter((function(e){return"Trailer"===e.type})),O(c.results),_(c.results[0].key),b(s[0]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(m.a)(p.a.mark((function e(){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/credits?api_key=").concat(I));case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,x(c.cast.slice(0,6));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(m.a)(p.a.mark((function e(){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/similar?api_key=").concat(I));case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,w(c.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){P.apply(this,arguments)}(),function(){J.apply(this,arguments)}(),function(){T.apply(this,arguments)}(),function(){B.apply(this,arguments)}(),F(!0),setTimeout((function(){F(!1)}),1e3)}),[t]),Object(u.jsx)(u.Fragment,{children:E?Object(u.jsx)(y,{}):Object(u.jsxs)(k.Modal,{children:[Object(u.jsxs)("div",{className:"movie-detail",children:[Object(u.jsx)("div",{className:"movie-detail-actions",children:Object(u.jsx)(o.b,{to:"/",className:"goback",children:Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-left"})})})}),Object(u.jsx)("div",{className:"movie-detail-cover",style:{backgroundImage:"linear-gradient(to right, rgba(6, 11, 40, 0.94) 19.41% , rgba(10, 14, 35, 0.49) 76.65%), url(http://image.tmdb.org/t/p/original/".concat(n.backdrop_path,")")},children:Object(u.jsxs)("div",{className:"detail",children:[Object(u.jsx)("span",{className:"title",children:n.title}),Object(u.jsx)("span",{className:"original-title",children:n.title===n.original_title?"":n.original_title}),Object(u.jsx)("div",{className:"line"}),Object(u.jsxs)("span",{className:"genres",children:[Object(u.jsx)("i",{className:"fas fa-heart icon"}),n.genres.map((function(e){return Object(u.jsx)("span",{className:"genre",children:e.name},e.id)}))]}),Object(u.jsx)("span",{className:"release_date",children:n.release_date}),Object(u.jsx)("span",{className:"overview",children:n.overview})]})})]})," "]})})};var S=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){null!==localStorage.getItem("watchList")&&s(JSON.parse(localStorage.getItem("watchList")))}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(h,{watchList:a,setWatchList:s}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/movie/:id",component:L}),Object(u.jsx)(w,{watchList:a,setWatchList:s})]})]})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,95)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root")),_()}},[[93,1,2]]]);
//# sourceMappingURL=main.7c9ed6b6.chunk.js.map